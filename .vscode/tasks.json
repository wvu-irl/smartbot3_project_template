{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start Robot",
      "type": "shell",
      "windows": {
        "command": "powershell.exe",
        "args": [
          "-NoLogo",
          "-NoProfile",
          "-ExecutionPolicy",
          "Bypass",
          "-File",
          "${workspaceFolder}\\.scripts\\start_robot_windows.ps1",
          "${input:RobotIP}",
          "-Mode",
          "${input:RobotMode}"
        ],
        "options": {
          "shell": {
            "executable": "powershell.exe",
            "args": [
              "-NoLogo",
              "-NoProfile",
              "-ExecutionPolicy",
              "Bypass",
              "-Command"
            ]
          }
        }
      },
      "linux": {
        "command": "/usr/bin/bash",
        "args": [
          "--noprofile",
          "--norc",
          "${workspaceFolder}/.scripts/start_robot.bash",
          "${input:RobotIP}",
          "${input:RobotMode}"
        ]
      },
      "problemMatcher": []
    },
    {
      "label": "Stop Robot",
      "type": "shell",
      "windows": {
        "command": "powershell.exe",
        "args": [
          "-NoLogo",
          "-NoProfile",
          "-ExecutionPolicy",
          "Bypass",
          "-File",
          "${workspaceFolder}\\.scripts\\stop_robot_windows.ps1",
          "${input:RobotIP}",
        ],
        "options": {
          "shell": {
            "executable": "powershell.exe",
            "args": [
              "-NoLogo",
              "-NoProfile",
              "-ExecutionPolicy",
              "Bypass",
              "-Command"
            ]
          }
        }
      },
      "linux": {
        "command": "/usr/bin/bash",
        "args": [
          "--noprofile",
          "--norc",
          "${workspaceFolder}/.scripts/stop_robot.bash",
          "${input:RobotIP}",
        ]
      },
      "problemMatcher": []
    },
    {
      "label": "Setup Python Environment",
      "type": "shell",
      // Windows
      "windows": {
        "command": "python3.12 -m pip install pip; python3.12 -m venv .venv;  --upgrade pip; .venv\\Scripts\\pip.exe install -e smartbot_irl",
        "options": {
          "shell": {
            "executable": "powershell.exe",
            "args": [
              "-NoLogo",
              "-NoProfile",
              "-ExecutionPolicy",
              "Bypass",
              "-Command"
            ]
          }
        }
      },
      "linux": {
        "command": "python3.12 -m venv .venv && source .venv/bin/activate && pip install --upgrade pip  && pip install -e ./smartbot_irl/"
      },
      "problemMatcher": []
    },
    {
      "label": "Update Project Template",
      "type": "shell",
      "windows": {
        "command": "git pull",
        "options": {
          "shell": {
            "executable": "powershell.exe",
            "args": [
              "-NoLogo",
              "-NoProfile",
              "-ExecutionPolicy",
              "Bypass",
              "-Command"
            ]
          }
        }
      },
      "linux": {
        "command": "/usr/bin/bash",
        "args": [
          "-c",
          "git pull"
        ]
      },
      "problemMatcher": []
    },
    {
      "label": "Update smartbot_irl",
      "type": "shell",
      "windows": {
        "command": "git submodule update --init --remote --merge",
        "options": {
          "shell": {
            "executable": "powershell.exe",
            "args": [
              "-NoLogo",
              "-NoProfile",
              "-ExecutionPolicy",
              "Bypass",
              "-Command"
            ]
          }
        }
      },
      "linux": {
        "command": "/usr/bin/bash",
        "args": [
          "-c",
          "git submodule update --init --remote --merge"
        ]
      },
      "problemMatcher": []
    }
  ],
  "inputs": [
    {
      "id": "RobotIP",
      "type": "promptString",
      "description": "Enter the robot IP address",
      "default": "192.168.33."
    },
    {
      "id": "RobotMode",
      "type": "pickString",
      "description": "Select mode",
      "options": [
        "prod",
        "dev"
      ],
      "default": "prod"
    }
  ]
}